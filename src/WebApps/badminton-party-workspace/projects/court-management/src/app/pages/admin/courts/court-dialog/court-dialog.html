<h2 mat-dialog-title>{{ isEdit ? '編輯羽球場' : '新增羽球場' }}</h2>

<mat-dialog-content class="mat-typography">
    <form [formGroup]="form" class="court-form">
        <mat-form-field appearance="outline" class="full-width">
            <mat-label>所屬羽球館</mat-label>
            <mat-select formControlName="centerId">
                <mat-option *ngFor="let center of centers" [value]="center.id">
                    {{center.name}}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="form.get('centerId')?.hasError('required')">請選擇所屬球館</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>場地名稱</mat-label>
            <input matInput formControlName="name" placeholder="例如: A 場, 1 號場">
            <mat-error *ngIf="form.get('name')?.hasError('required')">場地名稱是必填的</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>詳細描述</mat-label>
            <input matInput formControlName="description" placeholder="例如: 靠窗, 近門口">
        </mat-form-field>

        <div class="form-row">
            <mat-form-field appearance="outline">
                <mat-label>一般時段費用</mat-label>
                <input matInput type="number" formControlName="normalFee" placeholder="0">
                <span matPrefix>$&nbsp;</span>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>尖峰時段費用</mat-label>
                <input matInput type="number" formControlName="peakFee" placeholder="0">
                <span matPrefix>$&nbsp;</span>
            </mat-form-field>
        </div>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>特殊停用時段</mat-label>
            <input matInput formControlName="disabledPeriods" placeholder="例如: 週三 10:00-12:00">
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
            <mat-label>場地狀態</mat-label>
            <mat-select formControlName="status">
                <mat-option value="available">正常</mat-option>
                <mat-option value="maintenance">維護中</mat-option>
                <mat-option value="closed">停用</mat-option>
            </mat-select>
        </mat-form-field>
    </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">取消</button>
    <button mat-flat-button color="primary" (click)="onSave()" [disabled]="form.invalid">
        {{ isEdit ? '儲存變更' : '立即新增' }}
    </button>
</mat-dialog-actions>